## 设计模式原则

### 单一职责原则

【理解】对类来说，即一个类只应该负责一项职责。如A类负责多个职责，那么应该将A类拆分为多个A1.A2.A3…类来分别执行某一个职责。

【深入】对于一个复杂的功能，也可以利用这种思想，将这个复杂功能进行细粒度拆分，逐个完成拆分后的任务，这样开发和设计起来更加高效，更不容易出错。

【单一职责原则注意事项和细节】
1.降低类的复杂度,一个类只应负责一项职责

2.提高类的可读性，可维护性

3.降低变更引起的风险

4.通常情况下，都应当遵守单一职责原则，只有逻辑足够简单，才可以在代码级别违背次原则：只有在类中方法数量足够少时，在方法级别上保持单一职责原则

### 借口隔离原则

【概念】一个类不应该依赖它不需要的接口，即一个类对另一个类的依赖应该建立在最少接口上

【理解】A依赖B接口（B接口有5个方法）的2个方法，那么应当将B拆分为C接口（A依赖的那两个接口），剩下的3个方法在D接口中。如果E类依赖D接口中的1个方法，那么要将D接口再拆分，同上。此时A依赖的接口与E依赖的接口相互隔离互不影响。

### 依赖倒置原则

【抽象】：指的是接口或抽象类
【细节】：指的是实现类

【特点即理解】
1.高层模块不应该依赖低层模块，二者都应该依赖其抽象（接口或抽象类），不要去依赖具体的子类，这样抽象就相当于一个缓冲层

2.抽象不应该依赖细节，细节应该依赖抽象。

3.依赖倒置的中心思想是面向接口编程

4.设计理念：相对于细节的多变性，抽象的接口或类要稳定的多。
以抽象为基础搭建的架构比以细节为基础搭建的架构要稳定的多。

5.使用接口和抽象类目的在制定好规范，不涉及任何具体操作，把实现细节交由子类实现

【依赖传递方式】
1.通过接口参数，不需要成员变量
2.通过构造方法，上层类需要拥有成员变量（即需要依赖的接口对象）
3.通过setter方法，上层类需要拥有成员变量（即需要依赖的接口对象）

【依赖倒置原则注意事项和细节】
1.低层模块尽量都要有抽象类或接口，或者两者都有，程序稳定性会更好

2.变量的声明类型尽量是抽象类和接口（如Controller类引用IService接口），这样我们的变量引用和实际对象之间，就存在一层中间层，利于代码的扩展和优化

3.继承时应遵守【里式替换原则】

### 里式替换原则

【大致解决了继承存在的问题】
1.基类中实现的方法，实际上是在设定规范和契约，虽然他不强制要求子类遵守，但子类对已经实现的这些方法进行任意修改，就会对整个继承体系造成破坏

2.继承给程序设计带来便利的同时，也带来了弊端。
如继承给程序来带了入侵性、程序可移植性降低、增加了对象之间的耦合。
如需要修改基类时，即使考虑所有子类，但也可能造成子类功能出现异常

【概念】对于基类A实现的方法，其子类B.C等都可以完全替换A类来实现，但不影响原有的代码功能。

【理解】子类可以扩展父类的功能，但不能改变父类原有的功能；
通俗的说：子类继承父类时，除添加新的方法完成新增功能外，尽量不要重写父类的方法
如果子类强制要重写父类的方法，那么可以再抽象一个基类，为他们的公共父类，或采用依赖、组合、聚合的方式来实现

【特点及总结】
1.子类可以实现父类的抽象方法，但不能覆盖父类的非抽象方法
2.子类可以增加自己特有的方法
3.当子类的方法重载父类的方法时，方法的前置条件（即方法输入的参数）要比父类的方法更宽松。强调入参
4.当子类实现父类方法时（重载/重写或实现抽象方法），方法的后置条件要比父类的更为严格或相等。强调返回值

### 开放封闭原则

1.一个类的模块和函数应该是对扩展开放、对修改封闭。用抽象构建框架，用实现扩展细节
2.程序变化时，应当扩展软件实体的行为来进行扩展，而不是通过修改已有代码来实现变化
3.编程中遵循的其他原则以及使用设计模式的目的就是遵循开放封闭原则

### 迪米特法则

【特点及理解】
1.一个对象应该对其他对象保持最少的了解；类与类关系越密切，耦合度越大
2.即一个类对自己依赖的类知道的越少越好。被依赖的类，只提供一个对外的public接口，内部不管实现有多复杂，都应该用private修饰对外不可见
3.即只与直接的类或接口通信

【注意事项和细节】
1.迪米特法则的核心是降低类之间的耦合
2.注意：由于每个类都减少了不必要的依赖，因此迪米特法则只是降低类之间（对象之间）的耦合关系，并不是要求完全没有依赖

### 合成复用原则

尽量采用合成/聚合的方式，而不是使用继承

以上原则目的使程序更好，提高代码重用性，可读性，可拓展（可维护），健壮性，高内聚，低耦合。

## 设计模式

设计模式分为3类
创建型模式：单例模式、抽象工厂模式、原型模式、建造者模式、工厂模式
结构型模式：适配器模式、桥接模式、装饰器模式、组合模式、外观模式、享元模式、代理模式
行为型模式：模板方法模式、命令模式、访问者模式、迭代器模式、观察者模式、中介模式、备忘录模式、解释器模式（interpreter模式）、状态模式、策略模式、责任链模式

## spring中常用的设计模式

### 单列模式

1.饿汉式（静态常量、静态代码块）
2.懒汉式（需要加锁）

### 工厂模式

1.简单工厂模式（静态工厂模式），适合简单业务
2.工厂方法模式，适合稍复杂业务
3.抽象工厂模式，适用复杂业务

### 代理模式

### 策略模式

替代if else

### 装饰器模式

### 观察者模式

### 适配器模式

### 模版模式
